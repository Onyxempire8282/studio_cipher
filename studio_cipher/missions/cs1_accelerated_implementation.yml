goal: CS1 Style Implementation - ACCELERATED 2-Hour Full Implementation with Route Optimizer & Mileage Calculator
mission: CS1 Accelerated Implementation
description: Complete visual architecture alignment + fully functional Route Optimizer & Mileage Calculator in 2 hours
priority: CRITICAL
reference_site: "https://onyxempire8282.github.io/cs1/"

# Mission Parameters
scope: "Complete style overhaul + Route Optimizer + Mileage Calculator + QC validation"
deadline: "2 hours maximum"
quality_target: "100% functionality, 0 errors"

# CRITICAL FUNCTIONALITY REQUIREMENTS
route_optimizer_requirements:
  purpose: "JavaScript route optimization with day-splitting capability"
  inputs:
    - "startLocation (address or lat/lng)"
    - "destinations[] (array of addresses or lat/lng)"
    - "maxLegMiles (default: 50, user-editable)"
    - "splitEnabled (boolean, default: ON)"
    - "optimizeEnabled (boolean, default: ON)"
  behavior:
    - "Compute fastest route (time-minimizing, not distance)"
    - "Split route if leg > maxLegMiles"
    - "Return totals per day"
  output_format: |
    {
      "days": [
        { "label": "Day 1", "stops": ["A","B","C"], "totalMiles": 88.3, "totalMinutes": 142 },
        { "label": "Day 2", "stops": ["D","E"], "totalMiles": 61.9, "totalMinutes": 95 }
      ],
      "overall": { "miles": 150.2, "minutes": 237 }
    }
  acceptance_criteria:
    - "Works for 1-15 stops without error"
    - "Day split occurs at 60+ mile boundaries"
    - "splitEnabled OFF returns single-day route"
    - "Threshold changes re-split accordingly"

mileage_calculator_requirements:
  purpose: "Point A to Point B billable miles and payout calculator"
  data_model: |
    {
      "firms": [
        {
          "id": "sedgwick",
          "name": "Sedgwick", 
          "freeMiles": 50,
          "ratePerMile": 0.67,
          "roundTripDefault": true
        }
      ],
      "lastSelectedFirmId": "sedgwick"
    }
  computation:
    - "baseMiles = distanceMiles * (roundTrip ? 2 : 1)"
    - "billableMiles = max(0, baseMiles - freeMiles)"
    - "amount = billableMiles * ratePerMile"
  copy_format: "Mileage: A→B = {baseMiles} mi − {freeMiles} free = {billableMiles} billable × ${ratePerMile}/mi ⇒ ${amount} (Firm: {firmName})"
  acceptance_criteria:
    - "Copy button works across Chrome/Edge/Firefox"
    - "State persists across reloads"
    - "Handles decimals and large free-mile allowances"
    - "Works on mobile widths ≥360px"

# Target Pages for Implementation (ACCELERATED)
pages:
  phase_1_critical:
    - name: "Route Optimizer"
      file: "route-cypher.html"
      priority: 1
      requirements: "Full Route Optimizer implementation with Google Maps API"
    
    - name: "Mileage Calculator" 
      file: "mileage-cypher.html"
      priority: 1
      requirements: "Complete Mileage Calculator with firm settings"
    
    - name: "Login Screen"
      file: "login-cypher.html"
      priority: 2
      requirements: "CS1 styling with authentication"
      
    - name: "Dashboard"
      file: "command-center.html" 
      priority: 2
      requirements: "CS1 styling with navigation"

# Team Agent Assignments (ACCELERATED)
agents:
  producer:
    role: "Mission Coordinator & Continuous QC"
    responsibilities:
      - "Real-time quality checking every 15 minutes"
      - "Syntax error detection and correction"
      - "CSS error validation"
      - "JavaScript error debugging"
      - "Functionality testing"
    deliverables:
      - "QC reports every 15 minutes"
      - "Error-free code certification"
      - "Functionality validation reports"

  designer:
    role: "Route Optimizer & UI Implementation Lead"
    responsibilities:
      - "Route Optimizer JavaScript implementation"
      - "Google Maps API integration"
      - "Day-splitting algorithm"
      - "Route optimization logic"
      - "CS1 styling for Route Optimizer UI"
    priority_focus:
      - "route-cypher.html - Route Optimizer"
      - "login-cypher.html - Login styling"
    deliverables:
      - "Fully functional Route Optimizer"
      - "route-optimizer.js with all features"
      - "CS1-styled UI components"

  lyricist:
    role: "Mileage Calculator & Backend Integration"
    responsibilities:
      - "Mileage Calculator JavaScript implementation"
      - "Firm settings localStorage management"
      - "Copy-to-clipboard functionality"
      - "Settings panel CRUD operations"
      - "Data persistence and validation"
    priority_focus:
      - "mileage-cypher.html - Mileage Calculator"
      - "Settings management system"
    deliverables:
      - "Fully functional Mileage Calculator"
      - "mileage-calculator.js with all features"
      - "Settings management system"

  security:
    role: "Error Detection & Code Validation"
    responsibilities:
      - "JavaScript error detection and fixing"
      - "CSS validation and error correction"
      - "HTML syntax validation"
      - "Cross-browser compatibility testing"
      - "Mobile responsiveness validation"
    deliverables:
      - "Error-free code certification"
      - "Cross-browser test reports"
      - "Mobile compatibility validation"

# Implementation Phases (ACCELERATED 2-HOUR TIMELINE)
phases:
  phase_1:
    name: "Critical Module Implementation"
    duration: "0-60 minutes"
    lead_agent: "designer + lyricist"
    tasks:
      - "Route Optimizer core implementation (0-30 min)"
      - "Mileage Calculator core implementation (30-60 min)"
      - "QC Check #1 - Syntax & Basic Functionality"
    
  phase_2:
    name: "Feature Completion & Integration"
    duration: "60-90 minutes"
    lead_agent: "all agents"
    tasks:
      - "Google Maps API integration (60-75 min)"
      - "Settings panel implementation (75-90 min)"
      - "QC Check #2 - Full Functionality Testing"
      
  phase_3:
    name: "CS1 Styling & Polish"
    duration: "90-105 minutes"
    lead_agent: "designer"
    tasks:
      - "CS1 styling application (90-100 min)"
      - "UI/UX polish and responsiveness (100-105 min)"
      - "QC Check #3 - Visual Consistency"
      
  phase_4:
    name: "Final QC & Validation"
    duration: "105-120 minutes"
    lead_agent: "producer + security"
    tasks:
      - "Cross-browser testing (105-110 min)"
      - "Mobile responsiveness testing (110-115 min)"
      - "Final functionality validation (115-120 min)"
      - "QC Check #4 - Production Ready Certification"

# QC Checkpoints (Every 15 Minutes)
qc_schedule:
  - time: "15 min"
    focus: "Syntax errors, basic structure"
    lead: "security"
  - time: "30 min" 
    focus: "Route Optimizer functionality"
    lead: "producer"
  - time: "45 min"
    focus: "JavaScript errors, API integration"
    lead: "security"
  - time: "60 min"
    focus: "Mileage Calculator functionality"  
    lead: "producer"
  - time: "75 min"
    focus: "Settings panel, localStorage"
    lead: "lyricist"
  - time: "90 min"
    focus: "CSS styling, visual consistency"
    lead: "designer"
  - time: "105 min"
    focus: "Cross-browser compatibility"
    lead: "security"
  - time: "120 min"
    focus: "Final validation, production ready"
    lead: "producer"

# Success Criteria (100% FUNCTIONALITY REQUIRED)
success_criteria:
  route_optimizer: "100% functional - all features working"
  mileage_calculator: "100% functional - all features working" 
  syntax_errors: "0 syntax errors allowed"
  css_errors: "0 CSS errors allowed"
  javascript_errors: "0 JavaScript errors allowed"
  functionality: "All functions must work 100%"
  cross_browser: "Works in Chrome, Edge, Firefox"
  mobile_responsive: "Works on mobile 360px+ widths"

# Deliverables (ACCELERATED)
deliverables:
  - "route-cypher.html - Fully functional Route Optimizer"
  - "mileage-cypher.html - Fully functional Mileage Calculator"  
  - "route-optimizer.js - Complete route optimization logic"
  - "mileage-calculator.js - Complete mileage calculation logic"
  - "settings.js - Firm management and localStorage"
  - "CS1-styled UI components"
  - "Error-free code certification"
  - "QC validation reports"

# Technical Stack
tech_requirements:
  stack: "Vanilla JS + HTML/CSS (no frameworks)"
  storage: "localStorage only (no PII)"
  apis: "Google Maps Directions API"
  prefixes: "cc_ for all localStorage keys"
  browser_support: "Chrome, Edge, Firefox"
  mobile_support: "≥360px width"

# Quality Gates (MANDATORY)
quality_gates:
  - checkpoint: "Route Optimizer Functional"
    time: "60 minutes"
    criteria: "All route optimization features working 100%"
    
  - checkpoint: "Mileage Calculator Functional"
    time: "90 minutes"  
    criteria: "All mileage calculation features working 100%"
    
  - checkpoint: "Error-Free Code"
    time: "105 minutes"
    criteria: "0 syntax, CSS, or JavaScript errors"
    
  - checkpoint: "Production Ready"
    time: "120 minutes"
    criteria: "100% functionality, cross-browser tested, mobile responsive"
